$MOD = ALT

##############
# Miscelánea #
##############

# Copiar dibujo al portapapeles
bind = $MOD CONTROL, D, exec, pgrep canvas-draw || canvas-draw
bind = $MOD CONTROL, A, exec, canvas-draw -l -q && canvas-2latex
bind = $MOD SHIFT,   L, exec, FILEPATH=/tmp/canvas-draw.png screenshot selection_save -q && canvas-2latex

# Ocultar/mostrar barra
bind = $MOD,         B, exec, pgrep waybar && pkill waybar || waybar &

# Bloquear pantalla
bind = $MOD,         L, exec, lock

# Lanzador de aplicaciones
bind = $MOD,         p, exec, pgrep wofi || wofi_run
bind = $MOD SHIFT,   p, exec, pgrep wofi || wofi --show drun -i -l 10 $WOFI_GEOMETRY

# Montar/desmontar dispositivos Android
bind = $MOD,        F5, exec, android-mount
bind = $MOD SHIFT,  F5, exec, android-umount

# Menú apagado
bind = $MOD,       F11, exec, powermenu

# Scratchpad
bind = $MOD,         S, togglespecialworkspace, scratch
bind = $MOD SHIFT,   S, movetoworkspace, special:scratch

################
# Master/Stack #
################

bind = $MOD SHIFT, minus, layoutmsg, swapwithmaster master
bind = $MOD,       minus, layoutmsg, focusmaster
bind = $MOD,           J, layoutmsg, addmaster
bind = $MOD,           K, layoutmsg, removemaster
bind = $MOD,           U, layoutmsg, mfact -0.05
bind = $MOD,           I, layoutmsg, mfact +0.05

######################
# Gestionar ventanas #
######################

bind = $MOD SHIFT,     Q, exec, hyprclose
bind = $MOD,           E, fullscreen
bind = $MOD CONTROL,   S, pin
bind = $MOD,           Q, exec, ~/.dotfiles/bin/hyprland/cycle-workspaces prev
bind = $MOD,           W, exec, ~/.dotfiles/bin/hyprland/cycle-workspaces next
bind = $MOD,         Tab, workspace, previous
bind = $MOD SHIFT, space, togglefloating,
bind = $MOD SHIFT,     k, exec, hyprctl kill

# Mover/redimensionar ventanas con MOD + LMB/RMB (arrastrando)
bindm = $MOD CONTROL, mouse:272, movewindow
bindm = $MOD CONTROL, mouse:273, resizewindow

# (Cambiar foco/Mover) ventanas
bind = $MOD,       masculine, focuscurrentorlast
bind = $MOD,           comma, exec, ~/.dotfiles/bin/hyprland/cycle-windows prev
bind = $MOD,          period, exec, ~/.dotfiles/bin/hyprland/cycle-windows next
bind = $MOD SHIFT,     comma, layoutmsg, swapprev
bind = $MOD SHIFT,    period, layoutmsg, swapnext

################
# Aplicaciones #
################

bind = $MOD SHIFT, Return, exec, $TERMINAL
bind = $MOD,            F, exec, $TERMINAL $TERMTITLE scratchpad
bind = $MOD SHIFT,      F, exec, sh -c "$TERMINAL $TERMTITLE scratchpad $TERMEXEC lf"
bind = $MOD,           F2, exec, firefox
bind = $MOD,           F3, exec, sh -c "$TERMINAL $TERMEXEC lf"
bind = $MOD SHIFT,     F3, exec, sh -c "$TERMINAL $TERMEXEC lf /run/media/aleister/"
bind = $MOD,           F4, exec, tauon

########################
# Controles multimedia #
########################

bind = $MOD,                   Z, exec, music-control previous
bind = $MOD,                   X, exec, music-control next
bind = $MOD SHIFT,             Z, exec, music-control play-pause
bind = $MOD SHIFT,             X, exec, music-control play-pause
bind = ,           XF86AudioPrev, exec, music-control previous
bind = ,           XF86AudioNext, exec, music-control next
bind = ,           XF86AudioPlay, exec, music-control play-pause

#########
# Audio #
#########

bind = ,         XF86AudioLowerVolume, exec, volinc -5
bind = ,         XF86AudioRaiseVolume, exec, volinc +5
bind = $MOD,                        N, exec, volinc -10
bind = $MOD,                        M, exec, volinc +10
bind = ,                XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = $MOD CONTROL,                N, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = $MOD CONTROL,                M, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = $MOD SHIFT,                  N, exec, pactl set-sink-volume @DEFAULT_SINK@ 40%
bind = $MOD SHIFT,                  M, exec, pactl set-sink-volume @DEFAULT_SINK@ 60%
bind = $MOD SHIFT,                  A, exec, pipewire-virtualmic-select
bind = $MOD,                        A, exec, ~/.dotfiles/bin/hyprland/audio_panel-toggle

###############################
# Portátil — brillo/micrófono #
###############################

bind = ,      XF86MonBrightnessDown, exec, brightchange dec
bind = ,        XF86MonBrightnessUp, exec, brightchange inc
bind = SHIFT, XF86MonBrightnessDown, exec, hyprctl dispatch dpms off
bind = SHIFT,   XF86MonBrightnessUp, exec, hyprctl dispatch dpms on
bind = ,           XF86AudioMicMute, exec, amixer sset Capture toggle


########################
# Capturas de pantalla #
########################

bind = ,                   Print, exec, screenshot all_clip
bind = SHIFT,              Print, exec, screenshot selection_clip
bind = $MOD,                   O, exec, screenshot all_clip
bind = $MOD SHIFT,             O, exec, screenshot selection_clip
bind = $MOD CONTROL,           O, exec, screenshot all_save
bind = $MOD SHIFT CONTROL,     O, exec, screenshot selection_save

##############
# Workspaces #
##############

bind = $MOD,                  1, workspace, 1
bind = $MOD,                  2, workspace, 2
bind = $MOD,                  3, workspace, 3
bind = $MOD,                  4, workspace, 4
bind = $MOD,                  5, workspace, 5
bind = $MOD,                  6, workspace, 6
bind = $MOD,                  7, workspace, 7
bind = $MOD,                  8, workspace, 8
bind = $MOD,                  9, workspace, 9
bind = $MOD,                  0, workspace, 10
bind = $MOD,         apostrophe, workspace, 11
bind = $MOD,         exclamdown, workspace, 12
bind = $MOD,             KP_End, workspace, 13
bind = $MOD,            KP_Down, workspace, 14
bind = $MOD,       KP_Page_Down, workspace, 15
bind = $MOD,            KP_Left, workspace, 16
bind = $MOD,           KP_Begin, workspace, 17
bind = $MOD,           KP_Right, workspace, 18
bind = $MOD,               Left, workspace, 13
bind = $MOD,               Down, workspace, 14
bind = $MOD,              Right, workspace, 15
bind = $MOD,              Prior, workspace, 16
bind = $MOD,                 Up, workspace, 17
bind = $MOD,               Next, workspace, 18
bind = $MOD SHIFT,            1, movetoworkspacesilent, 1
bind = $MOD SHIFT,            2, movetoworkspacesilent, 2
bind = $MOD SHIFT,            3, movetoworkspacesilent, 3
bind = $MOD SHIFT,            4, movetoworkspacesilent, 4
bind = $MOD SHIFT,            5, movetoworkspacesilent, 5
bind = $MOD SHIFT,            6, movetoworkspacesilent, 6
bind = $MOD SHIFT,            7, movetoworkspacesilent, 7
bind = $MOD SHIFT,            8, movetoworkspacesilent, 8
bind = $MOD SHIFT,            9, movetoworkspacesilent, 9
bind = $MOD SHIFT,            0, movetoworkspacesilent, 10
bind = $MOD SHIFT,   apostrophe, movetoworkspacesilent, 11
bind = $MOD SHIFT,   exclamdown, movetoworkspacesilent, 12
bind = $MOD SHIFT,       KP_End, movetoworkspacesilent, 13
bind = $MOD SHIFT,      KP_Down, movetoworkspacesilent, 14
bind = $MOD SHIFT, KP_Page_Down, movetoworkspacesilent, 15
bind = $MOD SHIFT,      KP_Left, movetoworkspacesilent, 16
bind = $MOD SHIFT,     KP_Begin, movetoworkspacesilent, 17
bind = $MOD SHIFT,     KP_Right, movetoworkspacesilent, 18
bind = $MOD SHIFT,         Left, movetoworkspacesilent, 13
bind = $MOD SHIFT,         Down, movetoworkspacesilent, 14
bind = $MOD SHIFT,        Right, movetoworkspacesilent, 15
bind = $MOD SHIFT,        Prior, movetoworkspacesilent, 16
bind = $MOD SHIFT,           Up, movetoworkspacesilent, 17
bind = $MOD SHIFT,         Next, movetoworkspacesilent, 18

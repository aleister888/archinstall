windowrule {
	name = xwayland
	match:class = ^$
	match:title = ^$
	match:xwayland = 1
	match:float = 1
	match:fullscreen = 0
	match:pin = 0
	no_focus = on
}
windowrule = no_blur on, match:xwayland 1, match:float 1

###
# Categorías

windowrule = float on, center on, size (monitor_w*0.33) (monitor_h*0.33), match:tag 1/3
windowrule = float on, center on, size (monitor_w*0.50) (monitor_h*0.50), match:tag 1/2
windowrule = float on, center on, size (monitor_w*0.66) (monitor_h*0.66), match:tag 2/3
windowrule = float on, center on, size (monitor_w*0.75) (monitor_h*0.75), match:tag 3/4
windowrule = float on, center on,                                         match:tag center

###
# Capas

layerrule = dim_around on, match:namespace wofi
layerrule = dim_around on, match:namespace rofi
layerrule = dim_around on, match:namespace swaync-control-center

###
# Scratchpads

windowrule = tag +1/2, workspace special:scratch, match:title scratchpad

windowrule {
	name = qalculate
	match:class = ^(qalculate-gtk)$
	float = 1
	workspace = special:scratch
	size = (monitor_w*0.4) (monitor_h*0.4)
	move = (monitor_w*0.975-window_w) (monitor_h*0.9125-window_h)
}

windowrule {
	name = clocks
	match:class = ^(org\.gnome\.clocks)$
	float = 1
	workspace = special:scratch
	size = (monitor_w*0.4) (monitor_h*0.35)
	move = (monitor_w*0.975-window_w) (monitor_h*0.0875)
}

windowrule {
	name = telegram
	match:class = ^(org\.telegram\.desktop)$
	float = 1
	workspace = special:scratch
	no_screen_share = on
	size = (monitor_w*0.3) (monitor_h*0.87)
	move = (monitor_w*0.025) (monitor_h*0.0875)
}

# Bluetooth
windowrule = tag +1/2, workspace special:scratch, match:class ^(blueman-manager)$, match:title ^(Dispositivos Bluetooth)$
windowrule = float on, workspace special:scratch, match:class ^(blueman-sendto)$
windowrule = tag +1/2, dim_around on,             match:title ^(Select files to send)$

windowrule {
	name = lienzo
	match:title = ^(Lienzo en blanco)$
	float = on
	center = on
	workspace = special:scratch,
	border_size = 0
	rounding = 0
}

windowrule {
	name = easyeffects
	match:class = ^(com\.github\.wwmm\.easyeffects)$
	workspace = special:scratch
	float = on
	center = on
	size = (monitor_w*0.75) (monitor_h*0.8)
}

###
# Máquinas virtuales

windowrule = workspace 6, match:class ^(virt-manager)$
windowrule = tag +1/2,    match:title ^(Gestor de Máquinas Virtuales)$
windowrule = workspace 6, match:class ^(remote-viewer)$
windowrule = tile on,     match:class ^(remote-viewer)$, match:initial_title ^(spice.*)$
windowrule = tag +1/3,    match:class ^(remote-viewer)$, match:title ^(Preferencias)$
windowrule = tag +1/3,    match:class ^(remote-viewer)$, match:title ^(Save screenshot)$
windowrule = tag +1/3,    match:class ^(remote-viewer)$, match:title ^(Detalles de Huésped)$
windowrule = workspace 6, match:class ^(looking-glass-client)$
windowrule = workspace 6, match:class ^(qemu-system-x86_64)$

###
# Coding

# Eclipse
windowrule = workspace 12, fullscreen_state 0, match:class ^(Eclipse)$
windowrule = tag +2/3,                         match:class ^(Eclipse)$, match:title ^(.*Project)$
windowrule = tag +2/3,                         match:class ^(Eclipse)$, match:title ^(Eclipse Marketplace )$
windowrule = tag +2/3,                         match:class ^(Eclipse)$, match:title ^(Problem .*)$
windowrule = float on,                         match:class ^(Eclipse)$, match:title ^(Saving .*)$
windowrule = float on,                         match:class ^(Eclipse)$, match:title ^(Eclipse IDE )$

windowrule {
	name = eclipse_storage
	match:class = ^(Eclipse)$
	match:title = ^(Secure Storage )$
	tag = +center
	size = (monitor_w*0.3) (monitor_h*0.2)
	no_screen_share = on
}

windowrule = workspace 12, float on, no_initial_focus on, dim_around on, match:class ^(java)$, match:title ^(Eclipse)$
windowrule = workspace 12, float on, no_initial_focus on, dim_around on, match:class ^(java)$, match:initial_title ^(Eclipse)$

# Weka
windowrule = tile on,              match:class ^(weka-gui-GUIChooser)$, match:title ^(Weka GUI Chooser)$
windowrule = center on,            match:class ^(weka-gui-GUIChooser)$, match:title ^(win0)$
windowrule = float on,             match:class ^(weka-gui-GUIChooser)$, match:title ^(weka\.gui\.GenericObjectEditor)$
windowrule = rounding 0, float on, match:class ^(weka-gui-GUIChooser)$, match:title ^(.*focusableSwingPopup.*)$

windowrule {
	name = weka_popup
	match:class = ^(weka-gui-GUIChooser)
	match:title = ^(win.*)$
	float = on
	no_initial_focus = on
	rounding = 0
	move = (cursor_x+20) (cursor_y+20)
}

# IntelliJ
windowrule = workspace 12, match:class ^(jetbrains-idea-ce)$
windowrule = dim_around on, match:class ^(jetbrains-idea-ce)$, match:title ^(Congratulations)$
windowrule {
	name = jebtrains_popup
	match:class = ^(jetbrains-idea-ce)$
	match:title = ^(win[0-9]*)$
	float = on
	no_blur = on
	border_size = 0
	no_shadow = on
	no_anim = on
	rounding = 0
	no_initial_focus = on
}

###
# Contenido

windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:class ^(mpv)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:class ^(vlc)$

windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:title ^(.*HBO Max — Mozilla Firefox)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:title ^(.*YouTube — Mozilla Firefox)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:title ^(Netflix — Mozilla Firefox)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:title ^(La isla de las tentaciones.* — Mozilla Firefox)$

windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:class ^(steam_app_[0-9]+)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:title ^(OpenRA)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:title ^(Minecraft.*)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:title ^(Minecraft .*)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:title ^(Minecraft\* .*)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:class ^(Ryujinx)$
windowrule = idle_inhibit fullscreen, idle_inhibit focus, workspace 9, match:class ^(TJPS_Vulkan)$

###
# Aplicaciones

windowrule = workspace 10, match:class ^(steam)$
windowrule = workspace 10, match:title ^(Steam)$
windowrule = workspace 10, match:title ^(notificationtoasts.*desktop)
windowrule = tag +center,  match:class ^(steam)$, match:title ^(Friends List)$
windowrule = tag +center,  match:class ^(steam)$, match:title ^(Launching\.\.\.)$

windowrule = tile on, match:title ^(Minecraft.*)$
windowrule = tile on, match:title ^(Minecraft .*)$
windowrule = tile on, match:title ^(Minecraft\* .*)$

windowrule = border_size 0, rounding 0, dim_around on, match:title ^(LibreOffice)$, match:class ^()$
windowrule = tile on, fullscreen_state 0,               match:class ^(libreoffice-.*)$
windowrule = workspace 14, no_initial_focus on,        match:title ^(En ponencia: .*)$

windowrule = idle_inhibit fullscreen, idle_inhibit focus, match:class ^(discord)$
windowrule = workspace 6, suppress_event maximize,        match:class ^(discord)$
windowrule = pin on, float on,                            match:initial_title ^(Discord Popout)$
windowrule = center on, float on,                         match:initial_title ^(Discord Updater)$

windowrule = tag +1/2, workspace special:audio_panel, match:class ^(org\.pulseaudio\.pavucontrol)$

windowrule = tag +3/4, center on, match:title ^(Guardando como — Krita)$

# Producción Audio (REAPER <- Xephyr)
windowrule = workspace 7, tile on, fullscreen_state 0, match:class ^(Xephyr)$
#windowrule = workspace 7, no_initial_focus on, match:class ^(REAPER)$
#windowrule {
#	name = yabridge
#	match:class = ^(yabridge-host\.exe\.so)$
#	rounding = 0
#	border_size = 0
#	no_blur = on
#	no_shadow = on
#	no_anim = on
#	no_initial_focus = on
#}

windowrule = tag +2/3, workspace 7, match:class ^(LRCGET)$

windowrule = suppress_event maximize,             match:class ^(rustdesk)$
windowrule = tag +1/2, workspace special:scratch, match:class ^(rustdesk)$
windowrule = workspace 6, tile on,                match:title ^(.* - Remote Desktop - RustDesk)$

windowrule {
	name = prismlauncher_main
	match:class = ^(org\.prismlauncher\.PrismLauncher)$
	float = on
	center = on
	workspace = special:scratch
	no_initial_focus = on
}
windowrule {
	name = prismlauncher_waiting
	match:title = ^(Por favor espera\.\.\. — Prism Launcher .*)$
	border_size = 0
	no_initial_focus = on
	no_shadow = on
}

windowrule {
	name = gtk_portal_x11
	border_size = 0
	no_shadow = on
	float = on
	center = on
	size = (monitor_w*0.7) (monitor_h*0.75)
	match:class = ^(Xdg-desktop-portal-gtk)$
	match:title = ^(Abrir archivos)$
	match:xwayland = 1
}
windowrule {
	name = gtk_portal_x11_popup
	match:class = ^(Xdg-desktop-portal-gtk)$
	match:title = ^(xdg-desktop-portal-gtk)$
	match:xwayland = 1
	no_anim = on
	rounding = 0
	move = (cursor_x+10) (cursor_y+10)
}

windowrule = tag +1/2, workspace 8, match:class ^(timeshift-gtk)$
windowrule = tag +1/3, match:class ^(timeshift-gtk)$, match:title ^(Restaurar instantánea)$

windowrule = tag +1/2, match:class ^(xdg-desktop-portal-gtk)$

# Portal GTK (Wayland: LibreOffice)
windowrule = tag +1/2, match:title ^(Abrir)$, match:class ^(soffice)$
windowrule = tag +1/2, match:title ^(Guardar)$, match:class ^(soffice)$
windowrule = stay_focused on, match:class ^(soffice)$, match:title ^(Pegado especial)$

# KeePassXC -> Reglas dinámicas en: ~/.dotfiles/bin/hyprland/hyprland-socket2
windowrule = no_screen_share on,  match:class ^(org\.keepassxc\.KeePassXC)$
windowrule = no_initial_focus on, match:title ^(Desbloquear base de datos - KeePassXC)
windowrule = dim_around on,       match:title ^(Desbloquear base de datos - KeePassXC)
windowrule = center on,           match:title ^(Desbloquear base de datos - KeePassXC)

# Firefox -> Reglas dinámicas en: ~/.dotfiles/bin/hyprland/hyprland-socket2
windowrule = tag +center, fullscreen_state 0, match:class ^(firefox), match:title ^()$
windowrule = tag +center, fullscreen_state 0, match:class ^(firefox), match:title ^(Abriendo.*)$
windowrule = tag +center, fullscreen_state 0, match:class ^(firefox), match:title ^(Guardando.*)$
windowrule = tag +center,                    match:class ^(firefox), match:title ^(You’ve launched an older version of Firefox)$
windowrule = tag +center,                    match:class ^(firefox), match:title ^(Acerca de Mozilla Firefox)$

windowrule = workspace 7, match:class ^(TuxGuitar)$
windowrule = tag +1/2,    match:class ^(TuxGuitar)$, match:title ^(Measure errors )$

windowrule = tag +1/2, match:title ^(Redact)$

# Gnome Disks
windowrule = workspace 8, match:class ^(org\.gnome\.DiskUtility)$
windowrule = no_screen_share on, match:class ^(org\.gnome\.DiskUtility)$, match:title ^(Establecer contraseña)$

windowrule = tile on, fullscreen_state 0, match:class ^(Nsxiv)$
windowrule = workspace 1, fullscreen_state 0, match:class ^(tauonmb)$
windowrule = workspace 9, tile on, rounding 0, match:title ^(NBTExplorer)$

###
# Ajustes Generales

windowrule = dim_around on, match:class ^(hyprpolkitagent)$

windowrule = no_screen_share on, match:class ^(udiskie)$

windowrule = tag +1/2, pin on, match:class ^(hyprland-share-picker)$
windowrule = tag +2/3, match:class ^(org\.qbittorrent\.qBittorrent)$, match:title ^(.*magnet.*)$
windowrule = size (monitor_w*0.66) (monitor_h*0.75), match:class ^(input-remapper-gtk)$

windowrule = tag +center, match:class ^(input-remapper-gtk)$
windowrule = tag +center, match:class ^(udiskie)$
windowrule = tag +center, match:class ^(Tk)$
windowrule = tag +center, match:class ^(gmetronome)$
windowrule = tag +center, match:class ^(hyprland-share-picker)$
windowrule = tag +center, match:class ^(org\.pulseaudio\.pavucontrol)$
windowrule = tag +center, match:class ^(org\.qbittorrent\.qBittorrent)$, match:title ^(.*magnet.*)$
windowrule = tag +center, match:class ^(yad)$
windowrule = tag +center, match:title ^(Citrahold PC.*)$
windowrule = tag +center, match:title ^(Exportar imagen como .*)$
windowrule = tag +center, match:title ^(Copy color to Clipboard)$

windowrule = workspace 2,  match:class ^(org\.mozilla\.Thunderbird)$
windowrule = workspace 3,  match:class ^(obsidian)$
windowrule = workspace 7,  match:class ^(Picard)$
windowrule = workspace 7,  match:class ^(easytag)$
windowrule = workspace 8,  match:class ^(fr\.handbrake\.ghb)$
windowrule = workspace 8,  match:class ^(gimp)$
windowrule = workspace 8,  match:class ^(org\.bleachbit\.BleachBit)$
windowrule = workspace 8,  match:class ^(org\.gnome\.seahorse\.Application)$
windowrule = workspace 8,  match:class ^(org\.qbittorrent\.qBittorrent)$
windowrule = workspace 8,  match:class ^(qt5ct)$
windowrule = workspace 9,  match:class ^(net.querz.mcaselector.ui.Window)$
windowrule = workspace 13, match:class ^(org\.keepassxc\.KeePassXC)$
